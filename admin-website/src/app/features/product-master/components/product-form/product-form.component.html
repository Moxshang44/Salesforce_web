<form class="product-form">
  <!-- Form Grid -->
  <div class="form-grid">
    <!-- Brand -->
    <div class="form-group">
      <label class="form-label">
        Brand
        <span class="required">*</span>
      </label>
      <select 
        class="form-select"
        [class.error]="errors['brand']"
        [(ngModel)]="formData.brand" 
        name="brand"
        (change)="clearError('brand')"
        required
      >
        <option value="">Select Brand</option>
        @for (brand of brands; track brand) {
          <option [value]="brand">{{ brand }}</option>
        }
      </select>
      @if (errors['brand']) {
        <span class="error-message">{{ errors['brand'] }}</span>
      }
    </div>

    <!-- Category -->
    <div class="form-group">
      <label class="form-label">
        Category
        <span class="required">*</span>
      </label>
      <select 
        class="form-select"
        [class.error]="errors['category']"
        [(ngModel)]="formData.category" 
        name="category"
        (change)="clearError('category')"
        required
      >
        <option value="">Select Category</option>
        @for (category of categories; track category) {
          <option [value]="category">{{ category }}</option>
        }
      </select>
      @if (errors['category']) {
        <span class="error-message">{{ errors['category'] }}</span>
      }
    </div>

    <!-- Subcategory -->
    <div class="form-group">
      <label class="form-label">
        Subcategory <span class="optional">(Optional)</span>
      </label>
      <select 
        class="form-select" 
        [(ngModel)]="formData.subcategory" 
        name="subcategory"
      >
        <option value="">Select Subcategory</option>
        @for (subcategory of subcategories; track subcategory) {
          <option [value]="subcategory">{{ subcategory }}</option>
        }
      </select>
    </div>

    <!-- SKU Code -->
    <div class="form-group">
      <label class="form-label">
        SKU Code
        <span class="required">*</span>
      </label>
      <input 
        type="text" 
        class="form-input"
        [class.error]="errors['skuCode']"
        [(ngModel)]="formData.skuCode" 
        name="skuCode"
        placeholder="Enter SKU code"
        (input)="clearError('skuCode')"
        required
      />
      @if (errors['skuCode']) {
        <span class="error-message">{{ errors['skuCode'] }}</span>
      }
    </div>

    <!-- Product Name (Full Width) -->
    <div class="form-group full-width">
      <label class="form-label">
        PRD Name / Product as New
        <span class="required">*</span>
      </label>
      <input 
        type="text" 
        class="form-input"
        [class.error]="errors['productName']"
        [(ngModel)]="formData.productName" 
        name="productName"
        placeholder="Enter product name"
        (input)="clearError('productName')"
        required
      />
      @if (errors['productName']) {
        <span class="error-message">{{ errors['productName'] }}</span>
      }
    </div>

    <!-- Organic Whole Grain Energy Bar (Static Text) -->
    <div class="form-group full-width">
      <input 
        type="text" 
        class="form-input" 
        value="Organic Whole Grain Energy Bar" 
        readonly
      />
    </div>

    <!-- Short Description (Full Width) -->
    <div class="form-group full-width">
      <label class="form-label">
        Short Description
        <span class="required">*</span>
      </label>
      <textarea 
        class="form-textarea"
        [class.error]="errors['shortDescription']"
        [(ngModel)]="formData.shortDescription" 
        name="shortDescription"
        placeholder="A delicious and wholesome organic energy bar, packed with whole grains, nuts, and dried fruits for sustained energy, perfect for on the go activities."
        rows="3"
        (input)="clearError('shortDescription')"
        required
      ></textarea>
      @if (errors['shortDescription']) {
        <span class="error-message">{{ errors['shortDescription'] }}</span>
      }
    </div>

    <!-- Product Images (Full Width) -->
    <div class="form-group full-width">
      <label class="form-label">Product Images</label>
      <div class="image-upload-section">
        <div class="upload-area" (click)="fileInput.click()">
          <div class="upload-icon">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <polyline points="17 8 12 3 7 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <line x1="12" y1="3" x2="12" y2="15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div class="upload-text">Drop a file image here or click to browse</div>
          <div class="upload-hint">PNG, JPG or GIF (max. 800x400px)</div>
          <input 
            #fileInput
            type="file" 
            accept="image/*" 
            multiple
            (change)="onImageSelect($event)"
            style="display: none"
          />
        </div>

        @if (imagePreviews.length > 0) {
          <div class="image-preview-grid">
            @for (preview of imagePreviews; track $index) {
              <div class="image-preview-item">
                <img [src]="preview" alt="Product image" />
                <button 
                  type="button" 
                  class="remove-image-btn" 
                  (click)="removeImage($index)"
                >
                  âœ•
                </button>
              </div>
            }
          </div>
        }
      </div>
    </div>

    <!-- Ingredients & Compliance (Full Width) -->
    <div class="form-group full-width">
      <label class="form-label">Ingredients & Compliance (Optional)</label>
      <textarea 
        class="form-textarea" 
        [(ngModel)]="formData.ingredientsCompliance" 
        name="ingredientsCompliance"
        placeholder="The product bag contains a protein based (30%) consisting of premium concentrate, organic isolate, premier, grass fed BCI, allergen soy milk, essential, organic vitamins and minerals, and well as acids."
        rows="3"
      ></textarea>
    </div>

    <!-- Height & Width -->
    <div class="form-group">
      <label class="form-label">
        Height & Width <span class="optional">(Optional)</span>
      </label>
      <div class="dimension-inputs">
        <input 
          type="number" 
          class="form-input" 
          [(ngModel)]="formData.height" 
          name="height"
          placeholder="45"
        />
        <span class="dimension-separator">x</span>
        <input 
          type="number" 
          class="form-input" 
          [(ngModel)]="formData.width" 
          name="width"
          placeholder="45"
        />
        <span class="dimension-unit">CM</span>
      </div>
    </div>

    <!-- HSN Code -->
    <div class="form-group">
      <label class="form-label">
        HSN Code (Optional)
      </label>
      <select 
        class="form-select" 
        [(ngModel)]="formData.hsnCode" 
        name="hsnCode"
      >
        <option value="">Select HSN Code</option>
        <option value="HSN001">HSN001</option>
        <option value="HSN002">HSN002</option>
        <option value="HSN003">HSN003</option>
      </select>
    </div>
  </div>

  <!-- Form Actions -->
  <div class="form-actions">
    <app-button 
      variant="outline" 
      type="button"
      (click)="onCancel()"
    >
      Cancel
    </app-button>
    <app-button 
      variant="primary" 
      type="button"
      (click)="onSave()"
    >
      Save & Next
    </app-button>
  </div>
</form>

