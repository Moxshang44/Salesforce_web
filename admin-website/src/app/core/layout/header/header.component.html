<header class="header">
  <div class="header-center">
    <div class="search-bar">
      <svg class="search-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      <input 
        type="text" 
        placeholder="Search..." 
        class="search-input"
        (input)="onSearch($event)"
      />
    </div>
  </div>

  <div class="header-right">
    <button class="ai-button" (click)="onAiClick()" [class.disabled]="!aiAssistantEnabled">
      <img src="assets/images/TalkToAi.svg" alt="AI" class="ai-icon">
      <span>AI Assistant</span>
      <label class="ai-toggle-switch" (click)="$event.stopPropagation()">
        <input type="checkbox" [checked]="aiAssistantEnabled" (change)="onAiToggle($event)">
        <span class="toggle-slider"></span>
      </label>
    </button>
    
    <button class="notification-button" (click)="onNotificationClick()">
      <svg class="bell-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 22C13.1 22 14 21.1 14 20H10C10 21.1 10.9 22 12 22ZM18 16V11C18 7.93 16.37 5.36 13.5 4.68V4C13.5 3.17 12.83 2.5 12 2.5C11.17 2.5 10.5 3.17 10.5 4V4.68C7.64 5.36 6 7.92 6 11V16L4 18V19H20V18L18 16Z" stroke="currentColor" stroke-width="1.5" fill="none"/>
      </svg>
      @if (hasNotifications) {
        <span class="notification-badge"></span>
      }
    </button>

    <div class="user-profile-container">
      <div class="user-profile" (click)="onProfileClick()">
        <div class="avatar">
          <svg class="user-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12ZM12 14C9.33 14 4 15.34 4 18V20H20V18C20 15.34 14.67 14 12 14Z" fill="currentColor"/>
          </svg>
        </div>
      </div>
      
      @if (showProfileMenu) {
        <div class="profile-menu">
          <div class="profile-menu-item" (click)="onLogout()">
            <span class="menu-icon">ðŸšª</span>
            <span>Logout</span>
          </div>
        </div>
      }
    </div>
  </div>
</header>

